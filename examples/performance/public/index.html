<!doctype html>
<html>
<head>
</head>
<body>
<h1>Perf tests</h1>
<button onclick="getTest()">Run test</button>
<script src="/js/es5.js"></script>
<script src="/js/yocto.js"></script>
<script>
var db = yocto.db();

var xhr = new XMLHttpRequest();
xhr.open('GET', '/mock/data.json');
xhr.onload = function(e) {
  var data = JSON.parse(this.response);
  console.log(data.positions.length);
  db.put(data.positions, function(arr){
	// console.log('put', arr.length);
  });
}
xhr.send();

function getTest() {
	var start = +new Date(),
		end = 0,
		i = 100;

	while(i--){
		db.get({free:false}, function(arr){ });
	}

	end = +new Date();
	console.log((end-start)/1000);
}
</script>
</body>
</html>