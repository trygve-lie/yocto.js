Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var u=[];for(var c in o)t.call(o,c)&&u.push(c);if(e)for(var s=0;n>s;s++)t.call(o,r[s])&&u.push(r[s]);return u}}()),Array.prototype.every||(Array.prototype.every=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),r=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=arguments[1],o=0;r>o;o++)if(o in e&&!t.call(n,e[o],o,e))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),r=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=[],o=arguments[1],u=0;r>u;u++)if(u in e){var c=e[u];t.call(o,c,u,e)&&n.push(c)}return n}),function(t){"use strict";function e(){var t=arguments;return function(){var e=0,r=t.length,n=arguments;for(e=0;r>e;e+=1)n=[t[e].apply(this,n)];return n[0]}}function r(t){return t.match=Object.keys(t.template).every(function(e){return i.fn(t.template[e])?t.template[e].call(this,t.object[e],i):t.object[e]===t.template[e]}),t}function n(t){return t.match&&(t.object=t.objects.splice(t.index,1)[0]),t}function o(t){return t.match&&t.callback.call(null,t.object),t}function u(t,r,n){var o=e.apply(null,r),u=0!==t.result.length||!1,c=u?t.result:t.objects,s=0,a=c.length;for(s=0;a>s;s+=1)t.index=s,t.object=c[s],o(t),t.match&&(u||a==c.length||(a=c.length,s--),t.result.push(t.object));return n&&n.call(null,t.result),t.result=[],t}function c(t){return t&&"session"===t.type?"sessionStorage":"localStorage"}function s(){var t=[],e={objects:[],object:void 0,result:[],index:0,template:{},match:!0,callback:void 0};return{put:function(t,r){return i.arr(t)&&(t=t.filter(function(t){return i.obj(t)&&!i.arr(t)}),e.objects=e.objects.concat(t),e.result=e.result.concat(t)),i.obj(t)&&!i.arr(t)&&(e.objects.push(t),e.result.push(t)),r&&i.fn(r)&&(r.call(this,e.result),e.result=[]),this},get:function(n,o){return e.template=n||{},t.push(r),o&&i.fn(o)&&(u(e,t,o),t=[]),this},take:function(o,c){return e.template=o||{},t.push(r),t.push(n),c&&i.fn(c)&&(u(e,t,c),t=[]),this},each:function(r){return t.push(o),r&&i.fn(r)&&(e.callback=r,u(e,t)),t=[],this},drop:function(r){return e.objects.splice(0,e.objects.length),r&&i.fn(r)&&(r.call(null),t=[]),this},destroy:function(t,e){var r=c(t);return t&&i.str(t.name)&&a.storage()&&window[r].removeItem(t.name),this.drop(e),this},sort:function(r,n){var o=this,c=[];return i.str(r)&&(u(e,t,function(t){c=t.sort(function(t,e){var n="",o="";if(i.obj(t)&&i.obj(e)&&t&&e){if(n=t[r],o=e[r],n===o)return t;if(typeof n==typeof o)return o>n?-1:1}}),n&&i.fn(n)&&(n.call(o,c),c=[])}),e.result=c),this},save:function(r,n){var o=this,s=c(r);return r&&i.str(r.name)&&a.storage()&&u(e,t,function(t){window[s].setItem(r.name,JSON.stringify({creator:r.name,timestamp:+new Date,objects:t})),n&&i.fn(n)&&(n.call(o,t),o.chain=[])}),this},load:function(r,n){var o=c(r),u="",s={};return r&&i.str(r.name)&&a.storage()&&(u=window[o].getItem(r.name),s=JSON.parse(u),s.creator===r.name&&(e.objects=e.objects.concat(s.objects),e.result=e.result.concat(s.objects))),n&&i.fn(n)&&(n.call(this,e.result),e.result=[],t=[]),this},observe:function(){},unobserve:function(){}}}var a={storage:function(){var t="__ytest";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}}},i={arr:function(t){return t instanceof Array},obj:function(t){return t instanceof Object},fn:function(t){return"function"==typeof t},str:function(t){return"string"==typeof t},num:function(t){return"number"==typeof t},empty:function(t){return null===t?!0:i.arr(t)||i.str(t)?0===t.length:i.obj(t)?0===Object.keys(t).length:!0}};t.db=function(){return new s}}("undefined"==typeof exports?this.yocto={}:exports);
//@ sourceMappingURL=build/yocto.es5.min.0.0.1.js.map