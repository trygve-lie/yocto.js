Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(o){if("object"!=typeof o&&"function"!=typeof o||null===o)throw new TypeError("Object.keys called on non-object");var u=[];for(var c in o)t.call(o,c)&&u.push(c);if(e)for(var s=0;n>s;s++)t.call(o,r[s])&&u.push(r[s]);return u}}()),Array.prototype.every||(Array.prototype.every=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),r=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=arguments[1],o=0;r>o;o++)if(o in e&&!t.call(n,e[o],o,e))return!1;return!0}),Array.prototype.filter||(Array.prototype.filter=function(t){"use strict";if(null==this)throw new TypeError;var e=Object(this),r=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var n=[],o=arguments[1],u=0;r>u;u++)if(u in e){var c=e[u];t.call(o,c,u,e)&&n.push(c)}return n}),function(t){"use strict";function e(){function t(){var t=arguments;return function(){var e=0,r=t.length,n=arguments;for(e=0;r>e;e+=1)n=[t[e].apply(this,n)];return n[0]}}function e(t){return t.match=Object.keys(t.template).every(function(e){return i.fn(t.template[e])?t.template[e].call(this,t.object[e],i):t.object[e]===t.template[e]}),t}function r(t){return t.match&&(t.object=t.objects.splice(t.index,1)[0]),t}function n(t){return t.match&&t.callback.call(null,t.object),t}function o(e,r,n){var o=t.apply(null,r),u=0!==e.result.length||!1,c=u?e.result:e.objects,s=0,a=c.length;for(s=0;a>s;s+=1)e.index=s,e.object=c[s],o(e),e.match&&(u||a==c.length||(a=c.length,s--),e.result.push(e.object));return n&&n.call(null,e.result),e.result=[],e}function u(t){return t&&"session"===t.type?"sessionStorage":"localStorage"}var c=[],s={objects:[],object:void 0,result:[],index:0,template:{},match:!0,callback:void 0},a={storage:function(){var t="__ytest";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return!1}}},i={arr:function(t){return t instanceof Array},obj:function(t){return t instanceof Object},fn:function(t){return"function"==typeof t},str:function(t){return"string"==typeof t},num:function(t){return"number"==typeof t},empty:function(t){return null===t?!0:i.arr(t)||i.str(t)?0===t.length:i.obj(t)?0===Object.keys(t).length:!0}};return{put:function(t,e){return i.arr(t)&&(t=t.filter(function(t){return i.obj(t)&&!i.arr(t)}),s.objects=s.objects.concat(t),s.result=s.result.concat(t)),i.obj(t)&&!i.arr(t)&&(s.objects.push(t),s.result.push(t)),e&&i.fn(e)&&(e.call(this,s.result),s.result=[]),this},get:function(t,r){return s.template=t||{},c.push(e),r&&i.fn(r)&&(o(s,c,r),c=[]),this},take:function(t,n){return s.template=t||{},c.push(e),c.push(r),n&&i.fn(n)&&(o(s,c,n),c=[]),this},each:function(t){return c.push(n),t&&i.fn(t)&&(s.callback=t,o(s,c)),c=[],this},drop:function(t){return s.objects.splice(0,s.objects.length),t&&i.fn(t)&&(t.call(null),c=[]),this},destroy:function(t,e){var r=u(t);return t&&i.str(t.name)&&a.storage()&&window[r].removeItem(t.name),this.drop(e),this},sort:function(t,e){var r=this,n=[];return i.str(t)&&(o(s,c,function(o){n=o.sort(function(e,r){var n="",o="";if(i.obj(e)&&i.obj(r)&&e&&r){if(n=e[t],o=r[t],n===o)return e;if(typeof n==typeof o)return o>n?-1:1}}),e&&i.fn(e)&&(e.call(r,n),n=[])}),s.result=n),this},save:function(t,e){var r=this,n=u(t);return t&&i.str(t.name)&&a.storage()&&o(s,c,function(o){window[n].setItem(t.name,JSON.stringify({creator:t.name,timestamp:+new Date,objects:o})),e&&i.fn(e)&&(e.call(r,o),r.chain=[])}),this},load:function(t,e){var r=u(t),n="",o={};return t&&i.str(t.name)&&a.storage()&&(n=window[r].getItem(t.name),o=JSON.parse(n),o.creator===t.name&&(s.objects=s.objects.concat(o.objects),s.result=s.result.concat(o.objects))),e&&i.fn(e)&&(e.call(this,s.result),s.result=[],c=[]),this},observe:function(){},unobserve:function(){}}}t.db=function(){return new e}}("undefined"==typeof exports?this.yocto={}:exports);
//@ sourceMappingURL=build/yocto.es5.min.0.0.1.js.map